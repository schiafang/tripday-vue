(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7312d20"],{"0d5f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city-page"},[i("div",{staticClass:"city-container"},[i("div",{staticClass:"city-banner"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.city.image,expression:"city.image"}],attrs:{alt:""}}),i("div",{staticClass:"banner-title"},[t._v(" "+t._s(t.city.title)+" ")]),i("button",{staticClass:"city-switch",on:{click:function(e){t.cityDialog=!0}}},[i("i",{staticClass:"fas fa-globe-asia mr-1"}),t._v(" 切換目的地 ")]),i("v-dialog",{attrs:{"max-width":"390",transition:"slide-y-transition"},model:{value:t.cityDialog,callback:function(e){t.cityDialog=e},expression:"cityDialog"}},[i("div",{staticClass:"city-dialog-content"},[i("div",{staticClass:"dialog-top"}),i("div",{staticClass:"dialog-close",on:{click:function(e){t.cityDialog=!t.cityDialog}}},[i("i",{staticClass:"fas fa-times"})]),i("div",{staticClass:"dialog-title"},[t._v(" 切換目的地 ")]),i("div",{staticClass:"city-list"},[i("h4",{staticClass:"mb-3"},[t._v("台灣")]),t._l(t.cities,(function(e){return i("span",{key:e.id,on:{click:function(i){return t.switchCity(e.city)}}},[t._v(t._s(e.title))])}))],2)])])],1),i("div",{staticClass:"city-content"},[i("div",{staticClass:"breadcrumbs"},[i("router-link",{attrs:{to:"/"}},[t._v(" 首頁 ")]),i("span",[t._v(" > ")]),i("router-link",{attrs:{to:"/productlist"}},[t._v(" 台灣 ")]),i("span",[t._v(" > ")]),i("router-link",{attrs:{to:"/cities?city="+t.city.city}},[t._v(" "+t._s(t.city.title)+" ")])],1),i("div",{staticClass:"city-introduction"},[t._v(" "+t._s(t.city.introduction)+" ")]),i("GoogleMapMarker",{attrs:{city:t.city}})],1),i("div",{staticClass:"city-content-main"},[0===t.products.length?i("h2",{staticClass:"no-data"},[t._v(" 此城市目前沒有行程:( ")]):i("div",{staticClass:"products-wrapper"},[i("ProductCard",{attrs:{products:t.products}})],1),0!==t.products.length?i("button",{staticClass:"btn mb-5",attrs:{disabled:t.products.length<10}},[t._v(" 更多在地行程 ")]):t._e(),i("div",{staticClass:"explore-cities"},[i("div",{staticClass:"explore-cities-title"},[t._v(" 探索熱門城市 ")]),0!==Object.keys(t.slickSettings).length?i("VueSlickCarousel",t._b({ref:"carousel"},"VueSlickCarousel",t.slickSettings,!1),t._l(t.cities,(function(e){return i("router-link",{key:e.id,attrs:{to:{path:"/cities",query:{city:e.city}}}},[i("div",{staticClass:"city-card"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"city.image"}],attrs:{alt:""}}),i("span",[t._v(" "+t._s(e.title))])])])})),1):t._e()],1)])])])},r=[],a=i("1da1"),s=(i("96cf"),i("4de4"),i("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"products-card-content"},[i("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},t._l(t.products,(function(e){return i("v-col",{key:e.id,staticClass:"pa-2",attrs:{cols:"12",sm:"6",md:"4"}},[i("div",{staticClass:"product-card"},[i("router-link",{attrs:{to:{name:"ProductDetail",params:{id:e.id}}}},[i("FavoriteHeart",{attrs:{id:e.id}}),i("div",{staticClass:"product-card-image"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"product.image"}],attrs:{alt:""}})]),e.policy.check?i("div",{staticClass:"flash-label"},[i("i",{staticClass:"fas fa-caret-down"}),i("i",{staticClass:"fa fa-flash flash-icon"}),t._v("立即確認 ")]):t._e(),i("div",{staticClass:"product-card-detail"},[i("div",{staticClass:"card-title"},[e.policy.check?i("i",{staticClass:"fa fa-flash title-flash"}):t._e(),t._v(t._s(e.title)+" ")]),i("div",{staticClass:"card-ordered"},[e.orderCount>=1e3?i("i",{staticClass:"fab fa-hotjar"}):t._e(),t._v(" "+t._s(t._f("orderCount")(e.orderCount))+" 已訂購 ")]),i("div",{staticClass:"card-rating"},[i("Star",{attrs:{rating:e.rating}}),t._v(" ("+t._s(e.ratingCount)+") ")],1),i("div",{staticClass:"card-price"},[i("Price",{attrs:{"initial-price":{price:e.price,specialPrice:e.specialPrice}}})],1)])],1)],1)])})),1)],1)}),o=[],c=i("1470"),u=i("1b87"),l=i("f87f"),d=i("2708"),f={name:"ProductCard",components:{Star:c["a"],FavoriteHeart:u["a"],Price:l["a"]},mixins:[d["b"]],props:{products:{type:Array,required:!0}}},p=f,h=(i("a7e8"),i("2877")),g=i("6544"),m=i.n(g),v=i("ade3"),y=i("5530"),b=(i("a9e3"),i("b64b"),i("ac1f"),i("5319"),i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("caad"),i("159b"),i("2ca0"),i("4b85"),i("2b0e")),_=i("d9f7"),C=i("80d2"),w=["sm","md","lg","xl"],k=function(){return w.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{})}(),P=function(){return w.reduce((function(t,e){return t["offset"+Object(C["r"])(e)]={type:[String,Number],default:null},t}),{})}(),S=function(){return w.reduce((function(t,e){return t["order"+Object(C["r"])(e)]={type:[String,Number],default:null},t}),{})}(),x={col:Object.keys(k),offset:Object.keys(P),order:Object.keys(S)};function j(t,e,i){var n=t;if(null!=i&&!1!==i){if(e){var r=e.replace(t,"");n+="-".concat(r)}return"col"!==t||""!==i&&!0!==i?(n+="-".concat(i),n.toLowerCase()):n.toLowerCase()}}var O=new Map,A=b["a"].extend({name:"v-col",functional:!0,props:Object(y["a"])(Object(y["a"])(Object(y["a"])(Object(y["a"])({cols:{type:[Boolean,String,Number],default:!1}},k),{},{offset:{type:[String,Number],default:null}},P),{},{order:{type:[String,Number],default:null}},S),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var i=e.props,n=e.data,r=e.children,a=(e.parent,"");for(var s in i)a+=String(i[s]);var o=O.get(a);return o||function(){var t,e;for(e in o=[],x)x[e].forEach((function(t){var n=i[t],r=j(e,t,n);r&&o.push(r)}));var n=o.some((function(t){return t.startsWith("col-")}));o.push((t={col:!n||!i.cols},Object(v["a"])(t,"col-".concat(i.cols),i.cols),Object(v["a"])(t,"offset-".concat(i.offset),i.offset),Object(v["a"])(t,"order-".concat(i.order),i.order),Object(v["a"])(t,"align-self-".concat(i.alignSelf),i.alignSelf),t)),O.set(a,o)}(),t(i.tag,Object(_["a"])(n,{class:o}),r)}}),D=i("0fd9"),M=Object(h["a"])(p,s,o,!1,null,"a81b98b4",null),T=M.exports;m()(M,{VCol:A,VRow:D["a"]});var E=i("5bf1"),$=i("f464"),L=i.n($),F=i("a7ab"),z=i.n(F),q=(i("7b8d"),i("2c28")),R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"city-map",on:{click:t.openMapDialog}},[n("img",{attrs:{src:i("8708"),alt:""}}),n("i",{staticClass:"fas fa-map-marker-alt google-map-marker"})]),n("v-dialog",{staticClass:"map-dialog",attrs:{"max-width":"1200px",transition:"slide-y-transition"},model:{value:t.mapDialog,callback:function(e){t.mapDialog=e},expression:"mapDialog"}},[n("transition",{attrs:{name:"fade"}},[t.mobileScreen&&t.map?n("button",{staticClass:"map-dialog-close",on:{click:function(e){t.mapDialog=!1}}},[n("i",{staticClass:"fas fa-times"})]):t._e()]),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"dialog-product-list"},[t._l(t.rangeProducts,(function(e){return n("router-link",{key:e.id,attrs:{to:{name:"ProductDetail",params:{id:e.id}},target:"_blank"}},[n("div",{staticClass:"map-product-card",on:{mouseenter:function(i){return t.toggleBounce(e.id)}}},[n("img",{attrs:{src:e.image,alt:""}}),n("div",{staticClass:"card-info"},[n("span",{staticClass:"card-title"},[t._v(" "+t._s(e.title))]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"rating-price"},[n("span",[t._v(t._s(t.currentCurrency)+" "),n("span",[t._v(t._s(t._f("exchange")(e.price/t.exchangeRate)))])]),n("Star",{attrs:{rating:e.rating}})],1),n("button",{staticClass:"card-btn"},[t._v("立即訂購")])])])])])})),n("div",{staticClass:"map-tip"},[n("i",{staticClass:"fas fa-map-marked-alt"}),n("p",[t._v(" 目前的範圍內有 "),n("span",[t._v(t._s(t.rangeProducts.length))]),t._v(" 項活動，欲查看更多，請移動地圖範圍 ")])])],2),n("div",{staticClass:"dialog-map",attrs:{id:"map"}})])],1)],1)},N=[],Z=(i("99af"),i("4e82"),i("2f62")),I={path:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z",fillColor:"#ef7a70",fillOpacity:.9,scale:.08,strokeWeight:0},B={name:"GoogleMapMarker",components:{Star:c["a"]},mixins:[d["a"]],props:{city:{type:Object}},data:function(){return{products:[],rangeProducts:[],map:null,google:null,mapDialog:!1,marker:[],mapCenter:{lat:25.033976,lng:121.5645389},mapZoom:12}},created:function(){this.fetchAllProducts()},watch:{mapDialog:function(){!1===this.mapDialog&&(this.rangeProducts=[],this.marker=[])},mapCenter:function(){this.rangeProducts=[],this.marker=[],this.setMarker()},mapZoom:function(){this.rangeProducts=[],this.marker=[],this.setMarker()}},computed:Object(y["a"])({},Object(Z["b"])(["mobileScreen"])),methods:{fetchAllProducts:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q["a"].getProducts();case 2:i=e.sent,t.products=i.data;case 4:case"end":return e.stop()}}),e)})))()},openMapDialog:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.mapDialog=!0,e.next=3,L()({apiKey:"AIzaSyAD5Qr27PCX6Usb0gThF8HxGOqt-m6YE28",libraries:["geometry"]});case 3:i=e.sent,t.google=i,t.initMap(),t.setMarker();case 7:case"end":return e.stop()}}),e)})))()},initMap:function(){var t=Object(y["a"])({},this.city.geocode);this.mapCenter={lat:t.lat,lng:t.lng},this.map=new this.google.maps.Map(document.getElementById("map"),{center:this.mapCenter,zoom:12,maxZoom:13,minZoom:8,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1})},setMarker:function(){var t=this;this.products.forEach((function(e){var i=new t.google.maps.Marker({position:{lat:e.geocode.lat,lng:e.geocode.lng},map:t.map,icon:I}),n=t.map.getCenter(),r=i.getPosition(),a=t.google.maps.geometry.spherical.computeDistanceBetween(n,r);i.distance=a,i.product=e,t.marker.push(i);var s=Math.floor(e.rating/5*100),o='\n          <div class="map-info-window">\n            <img class="map-info-image" src="'.concat(e.cover||e.image,'" />\n            <div class="map-info-content">\n              <span class="top">').concat(e.title,'</span>\n              <div class="bottom">\n                <div class="d-flex">\n                  <div class="star"\n                    style="background: linear-gradient(90deg, #2292A4 ').concat(s,"%, #bebebe ").concat(s,'%);\n                    background-clip: text;\n                    -webkit-background-clip: text;"\n                  >\n                    <i class="fas fa-star"></i>\n                    <i class="fas fa-star"></i>\n                    <i class="fas fa-star"></i>\n                    <i class="fas fa-star"></i>\n                    <i class="fas fa-star"></i>\n                  </div>\n                  <span class="rating-count">(').concat(e.ratingCount,')</span>\n                </div>\n                <span class="price"> TWD <span>').concat(e.price,"</span></span>\n              </div>\n            </div>\n          </div>"),c=new t.google.maps.InfoWindow({content:o});i.addListener("mouseover",(function(){c.open(t.map,i)})),i.addListener("mouseout",(function(){c.close()})),i.addListener("click",(function(){t.$router.push({name:"ProductDetail",params:{id:e.id}})})),t.map.addListener("center_changed",(function(){t.mapCenter=t.map.center,i.setMap(null)})),t.map.addListener("zoom_changed",(function(){t.mapZoom=t.map.zoom}))})),this.sortProducts()},sortProducts:function(){this.rangeProducts=this.marker.map((function(t){return Object(y["a"])(Object(y["a"])({},t.product),{},{distance:t.distance})})),this.rangeProducts.sort((function(t,e){return t.distance-e.distance})),13===this.mapZoom&&(this.rangeProducts=this.rangeProducts.filter((function(t){return t.distance<8e3}))),12===this.mapZoom&&(this.rangeProducts=this.rangeProducts.filter((function(t){return t.distance<16e3}))),11===this.mapZoom&&(this.rangeProducts=this.rangeProducts.filter((function(t){return t.distance<3e4}))),10===this.mapZoom&&(this.rangeProducts=this.rangeProducts.filter((function(t){return t.distance<5e4}))),9===this.mapZoom&&(this.rangeProducts=this.rangeProducts.filter((function(t){return t.distance<11e4}))),8===this.mapZoom&&(this.rangeProducts=this.rangeProducts.filter((function(t){return t.distance<2e5})))},toggleBounce:function(t){var e;this.marker.forEach((function(i){i.setAnimation(null),i.product.id===t&&(e=i)})),e.setAnimation(this.google.maps.Animation.BOUNCE)}}},V=B,G=(i("c8ce"),i("169a")),K=Object(h["a"])(V,R,N,!1,null,null,null),U=K.exports;m()(K,{VDialog:G["a"]});var Y={name:"City",components:{ProductCard:T,VueSlickCarousel:z.a,GoogleMapMarker:U},metaInfo:function(){return{title:"2020 ".concat(this.title," 熱門旅遊 - tripday ")}},data:function(){return{title:"",products:[],city:{},cities:[],googleMap:null,slickSettings:{},cityDialog:!1,restaurants:[]}},mounted:function(){this.fetchCities(),this.fetchCityProduct()},watch:{$route:function(t){this.city=this.cities.filter((function(e){return e.city===t.query.city}))[0],this.title=this.city.title,this.fetchCityProduct()}},methods:{fetchCityProduct:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.state.isLoading=!0,e.next=4,q["a"].getCityProducts(t.$route.query.city);case 4:i=e.sent,t.products=i.data,t.$store.state.isLoading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),t.$store.state.isLoading=!1;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},fetchCities:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q["a"].getCities();case 2:i=e.sent,t.cities=i.data,t.city=i.data.filter((function(e){return e.city===t.$route.query.city}))[0],t.title=t.city.title,t.setSlickSetting();case 7:case"end":return e.stop()}}),e)})))()},fetchLocation:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t.cities.map((function(t){return E["a"].getLocation(t.city).then((function(e){t.geocode=e.data.results[0].geometry.location}))}))}catch(i){console.log(i)}case 1:case"end":return e.stop()}}),e)})))()},setSlickSetting:function(){this.slickSettings={infinite:!1,arrows:!0,focusOnSelect:!0,slidesToShow:5,touchThreshold:5,speed:700,initialSlide:0,responsive:[{breakpoint:575,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1100,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1350,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:1600,settings:{slidesToShow:6,slidesToScroll:6}}]}},switchCity:function(t){this.cityDialog=!1,this.$router.push({path:"/cities",query:{city:t}})}}},H=Y,W=(i("cf6e"),Object(h["a"])(H,n,r,!1,null,null,null));e["default"]=W.exports;m()(W,{VDialog:G["a"]})},1368:function(t,e,i){(function(e,i){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
(function(e,i){t.exports=i()})(0,(function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function n(t){return"function"===typeof t}var r=void 0;r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var a=r,s=0,o=void 0,c=void 0,u=function(t,e){w[s]=t,w[s+1]=e,s+=2,2===s&&(c?c(k):S())};function l(t){c=t}function d(t){u=t}var f="undefined"!==typeof window?window:void 0,p=f||{},h=p.MutationObserver||p.WebKitMutationObserver,g="undefined"===typeof self&&"undefined"!==typeof e&&"[object process]"==={}.toString.call(e),m="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function v(){return function(){return e.nextTick(k)}}function y(){return"undefined"!==typeof o?function(){o(k)}:C()}function b(){var t=0,e=new h(k),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function _(){var t=new MessageChannel;return t.port1.onmessage=k,function(){return t.port2.postMessage(0)}}function C(){var t=setTimeout;return function(){return t(k,1)}}var w=new Array(1e3);function k(){for(var t=0;t<s;t+=2){var e=w[t],i=w[t+1];e(i),w[t]=void 0,w[t+1]=void 0}s=0}function P(){try{var t=Function("return this")().require("vertx");return o=t.runOnLoop||t.runOnContext,y()}catch(e){return C()}}var S=void 0;function x(t,e){var i=this,n=new this.constructor(A);void 0===n[O]&&H(n);var r=i._state;if(r){var a=arguments[r-1];u((function(){return G(r,n,a,i._result)}))}else B(i,n,t,e);return n}function j(t){var e=this;if(t&&"object"===typeof t&&t.constructor===e)return t;var i=new e(A);return R(i,t),i}S=g?v():h?b():m?_():void 0===f?P():C();var O=Math.random().toString(36).substring(2);function A(){}var D=void 0,M=1,T=2;function E(){return new TypeError("You cannot resolve a promise with itself")}function $(){return new TypeError("A promises callback cannot return that same promise.")}function L(t,e,i,n){try{t.call(e,i,n)}catch(r){return r}}function F(t,e,i){u((function(t){var n=!1,r=L(i,e,(function(i){n||(n=!0,e!==i?R(t,i):Z(t,i))}),(function(e){n||(n=!0,I(t,e))}),"Settle: "+(t._label||" unknown promise"));!n&&r&&(n=!0,I(t,r))}),t)}function z(t,e){e._state===M?Z(t,e._result):e._state===T?I(t,e._result):B(e,void 0,(function(e){return R(t,e)}),(function(e){return I(t,e)}))}function q(t,e,i){e.constructor===t.constructor&&i===x&&e.constructor.resolve===j?z(t,e):void 0===i?Z(t,e):n(i)?F(t,e,i):Z(t,e)}function R(e,i){if(e===i)I(e,E());else if(t(i)){var n=void 0;try{n=i.then}catch(r){return void I(e,r)}q(e,i,n)}else Z(e,i)}function N(t){t._onerror&&t._onerror(t._result),V(t)}function Z(t,e){t._state===D&&(t._result=e,t._state=M,0!==t._subscribers.length&&u(V,t))}function I(t,e){t._state===D&&(t._state=T,t._result=e,u(N,t))}function B(t,e,i,n){var r=t._subscribers,a=r.length;t._onerror=null,r[a]=e,r[a+M]=i,r[a+T]=n,0===a&&t._state&&u(V,t)}function V(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,r=void 0,a=t._result,s=0;s<e.length;s+=3)n=e[s],r=e[s+i],n?G(i,n,r,a):r(a);t._subscribers.length=0}}function G(t,e,i,r){var a=n(i),s=void 0,o=void 0,c=!0;if(a){try{s=i(r)}catch(u){c=!1,o=u}if(e===s)return void I(e,$())}else s=r;e._state!==D||(a&&c?R(e,s):!1===c?I(e,o):t===M?Z(e,s):t===T&&I(e,s))}function K(t,e){try{e((function(e){R(t,e)}),(function(e){I(t,e)}))}catch(i){I(t,i)}}var U=0;function Y(){return U++}function H(t){t[O]=U++,t._state=void 0,t._result=void 0,t._subscribers=[]}function W(){return new Error("Array Methods must be provided an Array")}var Q=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[O]||H(this.promise),a(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?Z(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&Z(this.promise,this._result))):I(this.promise,W())}return t.prototype._enumerate=function(t){for(var e=0;this._state===D&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===j){var r=void 0,a=void 0,s=!1;try{r=t.then}catch(c){s=!0,a=c}if(r===x&&t._state!==D)this._settledAt(t._state,e,t._result);else if("function"!==typeof r)this._remaining--,this._result[e]=t;else if(i===nt){var o=new i(A);s?I(o,a):q(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new i((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===D&&(this._remaining--,t===T?I(n,i):this._result[e]=i),0===this._remaining&&Z(n,this._result)},t.prototype._willSettleAt=function(t,e){var i=this;B(t,void 0,(function(t){return i._settledAt(M,e,t)}),(function(t){return i._settledAt(T,e,t)}))},t}();function X(t){return new Q(this,t).promise}function J(t){var e=this;return a(t)?new e((function(i,n){for(var r=t.length,a=0;a<r;a++)e.resolve(t[a]).then(i,n)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))}function tt(t){var e=this,i=new e(A);return I(i,t),i}function et(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function it(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var nt=function(){function t(e){this[O]=Y(),this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!==typeof e&&et(),this instanceof t?K(this,e):it())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,i=e.constructor;return n(t)?e.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):e.then(t,t)},t}();function rt(){var t=void 0;if("undefined"!==typeof i)t=i;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(r){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(r){}if("[object Promise]"===n&&!e.cast)return}t.Promise=nt}return nt.prototype.then=x,nt.all=X,nt.race=J,nt.resolve=j,nt.reject=tt,nt._setScheduler=l,nt._setAsap=d,nt._asap=u,nt.polyfill=rt,nt.Promise=nt,nt}))}).call(this,i("4362"),i("c8ba"))},"1b87":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"favorite-icon-wrapper"},[i("div",{ref:"signTip",staticClass:"sign-tip",style:{opacity:0,zIndex:2,transition:"opacity .2s ease-in-out"}}),t.isAuthenticated&&t.favoriteProducts.includes(t.id)?t._e():i("i",{staticClass:"far fa-heart add-favorite favorite-icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFavorite(t.id)}}}),i("transition",{attrs:{name:"popup"}},[t.isAuthenticated&&t.favoriteProducts.includes(t.id)?i("i",{staticClass:"fas fa-heart remove-favorite favorite-icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeFavorite(t.id)}}}):t._e()])],1)},r=[],a=i("5530"),s=(i("a9e3"),i("2f62")),o={props:{id:{type:Number,required:!0}},computed:Object(a["a"])({},Object(s["b"])(["favoriteProducts","isAuthenticated"])),methods:{addFavorite:function(t){var e=this;if(!this.isAuthenticated)return this.$refs.signTip.style.opacity=1,void setTimeout((function(){e.$refs.signTip.style.opacity=0,e.$EventBus.$emit("openSignForm",!0)}),800);this.$store.commit("addFavorite",t)},removeFavorite:function(t){var e=this;if(!this.isAuthenticated)return this.$refs.signTip.style.opacity=1,void setTimeout((function(){e.$refs.signTip.style.opacity=0,e.$EventBus.$emit("openSignForm",!0)}),800);this.$store.commit("removeFavorite",t)}}},c=o,u=(i("668d"),i("2877")),l=Object(u["a"])(c,n,r,!1,null,null,null);e["a"]=l.exports},"32c8":function(t,e,i){"use strict";function n(t){var e=t.base;return e+="?",t.apiKey&&(e+="key="+t.apiKey+"&"),t.client&&(e+="client="+t.client+"&"),t.libraries.length>0&&(e+="libraries=",t.libraries.forEach((function(i,n){e+=i,n!==t.libraries.length-1&&(e+=",")})),e+="&"),t.language&&(e+="language="+t.language+"&"),t.version&&(e+="v="+t.version+"&"),e+="callback="+t.callback,e}t.exports=n},"4e7a":function(t,e,i){},"5bf1":function(t,e,i){"use strict";i("99af");var n=i("bc3a"),r=i.n(n),a="https://cors.bridged.cc/",s=r.a.create({baseURL:a+"https://maps.googleapis.com/maps/api/",headers:{"x-cors-grida-api-key":"0acd9cbf-13bd-40f7-828e-19b044b05bed"}});e["a"]={getPlaceID:function(t){return s.get("place/findplacefromtext/json?key=".concat("AIzaSyAD5Qr27PCX6Usb0gThF8HxGOqt-m6YE28","&inputtype=textquery&input=").concat(t)).then((function(t){return t}))},getPlaceDetail:function(t){return s.get("place/details/json?placeid=".concat(t,"&fields=name,opening_hours,rating,reviews&key=").concat("AIzaSyAD5Qr27PCX6Usb0gThF8HxGOqt-m6YE28")).then((function(t){return t}))}}},"668d":function(t,e,i){"use strict";i("4e7a")},8708:function(t,e,i){t.exports=i.p+"img/map.87d694d7.png"},9770:function(t,e,i){},a7e8:function(t,e,i){"use strict";i("ff9f")},c8ce:function(t,e,i){"use strict";i("d30d")},cf6e:function(t,e,i){"use strict";i("9770")},d30d:function(t,e,i){},e099:function(t,e,i){"use strict";var n,r=i("1368").Promise,a=i("32c8");function s(t){var e=document.createElement("script");e.type="text/javascript",e.src=a({base:"https://maps.googleapis.com/maps/api/js",libraries:t.libraries||[],callback:"googleMapsAutoCompleteAPILoad",apiKey:t.apiKey,client:t.client,language:t.language,version:t.version}),document.querySelector("head").appendChild(e)}function o(t){return n?r.resolve(n):new r((function(e,i){s(t),window.googleMapsAutoCompleteAPILoad=function(){n=window.google,e(n)},setTimeout((function(){window.google||i(new Error("Loading took too long"))}),5e3)}))}t.exports=o},f464:function(t,e,i){t.exports=i("e099")},ff9f:function(t,e,i){}}]);
//# sourceMappingURL=chunk-c7312d20.952c6ef1.js.map