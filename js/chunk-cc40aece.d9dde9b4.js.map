{"version":3,"sources":["webpack:///./src/components/ProductListCard.vue?b690","webpack:///./src/components/FavoriteHeart.vue?0a7b","webpack:///src/components/FavoriteHeart.vue","webpack:///./src/components/FavoriteHeart.vue?b56c","webpack:///./src/components/FavoriteHeart.vue?84a6","webpack:///./src/components/UserTab.vue?eaa3","webpack:///src/components/UserTab.vue","webpack:///./src/components/UserTab.vue?df66","webpack:///./src/components/UserTab.vue?fbc2","webpack:///./src/views/Favorites.vue?f078","webpack:///src/views/Favorites.vue","webpack:///./src/views/Favorites.vue?1f80","webpack:///./src/views/Favorites.vue?d057","webpack:///./src/components/FavoriteHeart.vue?30c1","webpack:///./src/views/Favorites.vue?ad66","webpack:///./src/components/UserTab.vue?2fc5","webpack:///./src/components/ProductListCard.vue?9298","webpack:///src/components/ProductListCard.vue","webpack:///./src/components/ProductListCard.vue?5159","webpack:///./src/components/ProductListCard.vue?57fc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","style","opacity","zIndex","transition","isAuthenticated","favoriteProducts","includes","id","_e","on","$event","stopPropagation","preventDefault","addFavorite","attrs","removeFavorite","staticRenderFns","props","type","Number","required","computed","methods","$refs","signTip","setTimeout","$store","commit","component","avatar","_v","_s","name","email","formData","Object","data","created","watch","handler","e","state","user","deep","favorites","length","_m","components","products","fetchProducts","target","height","_l","product","key","params","directives","rawName","value","expression","policy","check","cancel","title","description","introduction","location","country","city","date","rating","ratingCount","orderCount","_f","price","specialPrice","mixins","Array"],"mappings":"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","file":"js/chunk-cc40aece.d9dde9b4.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductListCard.vue?vue&type=style&index=0&id=4801c254&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"favorite-icon-wrapper\"},[_c('div',{ref:\"signTip\",staticClass:\"sign-tip\",style:({\n      opacity: 0,\n      zIndex: 2,\n      transition: 'opacity .2s ease-in-out'\n    })}),(!_vm.isAuthenticated || !_vm.favoriteProducts.includes(_vm.id))?_c('i',{staticClass:\"far fa-heart add-favorite favorite-icon\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFavorite(_vm.id)}}}):_vm._e(),_c('transition',{attrs:{\"name\":\"popup\"}},[(_vm.isAuthenticated && _vm.favoriteProducts.includes(_vm.id))?_c('i',{staticClass:\"fas fa-heart remove-favorite favorite-icon\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.removeFavorite(_vm.id)}}}):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"favorite-icon-wrapper\">\n    <div\n      class=\"sign-tip\"\n      ref=\"signTip\"\n      :style=\"{\n        opacity: 0,\n        zIndex: 2,\n        transition: 'opacity .2s ease-in-out'\n      }\"\n    ></div>\n    <i\n      v-if=\"!isAuthenticated || !favoriteProducts.includes(id)\"\n      class=\"far fa-heart add-favorite favorite-icon\"\n      @click.stop.prevent=\"addFavorite(id)\"\n    ></i>\n    <transition name=\"popup\">\n      <i\n        v-if=\"isAuthenticated && favoriteProducts.includes(id)\"\n        class=\"fas fa-heart remove-favorite favorite-icon\"\n        @click.stop.prevent=\"removeFavorite(id)\"\n      ></i>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  props: {\n    id: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState(['favoriteProducts', 'isAuthenticated'])\n  },\n  methods: {\n    addFavorite(id) {\n      if (this.isAuthenticated) {\n        this.$store.commit('addFavorite', id)\n      } else {\n        this.$refs.signTip.style.opacity = 1\n        setTimeout(() => {\n          this.$refs.signTip.style.opacity = 0\n          this.$EventBus.$emit('openSignForm', true)\n        }, 800)\n        return\n      }\n    },\n    removeFavorite(id) {\n      if (this.isAuthenticated) {\n        this.$store.commit('removeFavorite', id)\n      } else {\n        this.$refs.signTip.style.opacity = 1\n        setTimeout(() => {\n          this.$refs.signTip.style.opacity = 0\n          this.$EventBus.$emit('openSignForm', true)\n        }, 800)\n        return\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import '../assets/scss/_base.scss';\n\n.favorite-icon {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #fff;\n  color: $gray;\n  font-size: 1rem;\n  z-index: 1;\n  @include flexCenter;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &.remove-favorite {\n    color: $pink;\n  }\n}\n\n.sign-tip {\n  position: absolute;\n  right: 28px;\n  top: 28px;\n\n  &::after {\n    content: '請先登入';\n    font-size: 0.9rem;\n    color: #fff;\n    padding: 5px 10px;\n    border-radius: 4px;\n    background-color: $pink;\n    box-shadow: 2px 2px 5px 1px rgba(0, 0, 0, 0.1);\n  }\n}\n\n/** ProductInfo Page heart */\n.heart-wrapper {\n  transform: scale(1.5);\n}\n\n@keyframes popup {\n  0% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  25% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n  75% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.popup-enter-active,\n.popup-leave-active {\n  transition: all 0.3s;\n  animation-duration: 0.6s;\n  animation-iteration-count: 1;\n  animation-name: popup;\n  animation-timing-function: ease-in-out;\n}\n\n.popup-enter,\n.popup-leave-to {\n  opacity: 0;\n  transform: scale(1.5);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoriteHeart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoriteHeart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FavoriteHeart.vue?vue&type=template&id=4ed7b818&\"\nimport script from \"./FavoriteHeart.vue?vue&type=script&lang=js&\"\nexport * from \"./FavoriteHeart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FavoriteHeart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-tab-wrapper\"},[_c('div',{staticClass:\"user-info\"},[_c('img',{attrs:{\"src\":_vm.avatar,\"alt\":\"\"}}),_c('div',{staticClass:\"user-account\"},[_vm._v(_vm._s(_vm.name || _vm.email))])]),_c('div',{staticClass:\"user-tab\"},[_c('router-link',{staticClass:\"user-tab-link\",attrs:{\"to\":\"/user\"}},[_c('div',{staticClass:\"user-tab-item\"},[_c('i',{staticClass:\"icon-settings\"}),_vm._v(\" 帳號管理\")])]),_c('router-link',{staticClass:\"user-tab-link\",attrs:{\"to\":\"/user/orderlist\"}},[_c('div',{staticClass:\"user-tab-item\"},[_c('i',{staticClass:\"icon-note\"}),_vm._v(\" 訂單查詢 \")])]),_c('router-link',{staticClass:\"user-tab-link\",attrs:{\"to\":\"/user/favorites\"}},[_c('div',{staticClass:\"user-tab-item\"},[_c('i',{staticClass:\"icon-heart\"}),_vm._v(\" 我的收藏 \")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-tab-wrapper\">\n    <div class=\"user-info\">\n      <img :src=\"avatar\" alt=\"\" />\n      <div class=\"user-account\">{{ name || email }}</div>\n    </div>\n    <div class=\"user-tab\">\n      <router-link to=\"/user\" class=\"user-tab-link\">\n        <div class=\"user-tab-item\"><i class=\"icon-settings\"></i> 帳號管理</div>\n      </router-link>\n      <router-link to=\"/user/orderlist\" class=\"user-tab-link\">\n        <div class=\"user-tab-item\">\n          <i class=\"icon-note\"></i> 訂單查詢\n        </div></router-link\n      >\n      <router-link to=\"/user/favorites\" class=\"user-tab-link\">\n        <div class=\"user-tab-item\">\n          <i class=\"icon-heart\"></i> 我的收藏\n        </div></router-link\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  props: {\n    formData: {\n      type: Object\n    }\n  },\n  data() {\n    return {\n      avatar: '',\n      name: '',\n      email: ''\n    }\n  },\n  created() {\n    const { name, email, avatar } = this.$store.state.user\n    this.name = name\n    this.email = email\n    this.avatar = avatar ? avatar : 'https://i.imgur.com/hyCLvT0.png'\n  },\n  watch: {\n    formData: {\n      handler: function (e) {\n        this.avatar = e.avatar ? e.avatar : this.$store.state.user.avatar\n      },\n      deep: true\n    }\n  },\n  computed: {\n    ...mapState(['isAuthenticated', 'user'])\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/user-page.scss';\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserTab.vue?vue&type=template&id=5e25f964&scoped=true&\"\nimport script from \"./UserTab.vue?vue&type=script&lang=js&\"\nexport * from \"./UserTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserTab.vue?vue&type=style&index=0&id=5e25f964&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e25f964\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-container-wapper\"},[(_vm.isAuthenticated)?_c('div',{staticClass:\"user-container\"},[_c('UserTab'),_c('div',{staticClass:\"user-content\"},[_c('div',{staticClass:\"user-content-title\"},[_vm._v(\" 我的收藏 \")]),(_vm.favorites.length === 0)?[_vm._m(0)]:_vm._e(),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.favorites.length !== 0)?_c('div',{staticClass:\"favorites-list\"},[(_vm.favorites.length !== 0)?_c('ProductListCard',{attrs:{\"products\":_vm.favorites}}):_vm._e()],1):_vm._e()])],2)],1):_c('div',{staticClass:\"user-container\"},[_c('h3',[_vm._v(\"請先登入\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-content-no-data\"},[_c('div',[_c('span',[_vm._v(\" 沒有收藏 \")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-container-wapper\">\n    <div class=\"user-container\" v-if=\"isAuthenticated\">\n      <UserTab />\n      <div class=\"user-content\">\n        <div class=\"user-content-title\">\n          我的收藏\n        </div>\n\n        <template v-if=\"favorites.length === 0\">\n          <div class=\"user-content-no-data\">\n            <div>\n              <span>\n                沒有收藏\n              </span>\n            </div>\n          </div>\n        </template>\n\n        <transition name=\"fade\">\n          <div class=\"favorites-list\" v-if=\"favorites.length !== 0\">\n            <ProductListCard\n              :products=\"favorites\"\n              v-if=\"favorites.length !== 0\"\n            />\n          </div>\n        </transition>\n      </div>\n    </div>\n    <div class=\"user-container\" v-else>\n      <h3>請先登入</h3>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserTab from '../components/UserTab'\nimport productAPI from '../apis/product'\nimport { mapState } from 'vuex'\nimport ProductListCard from '../components/ProductListCard'\n\nexport default {\n  name: 'User',\n  components: { UserTab, ProductListCard },\n  data() {\n    return {\n      favorites: [],\n      products: [],\n    }\n  },\n  created() {\n    this.fetchProducts()\n  },\n  computed: {\n    ...mapState(['isAuthenticated', 'user', 'favoriteProducts'])\n  },\n  watch: {\n    favoriteProducts(a, b) {\n      let remove = a.filter(i => !(b.indexOf(i) > -1)).concat(b.filter(i => !(a.indexOf(i) > -1)))\n      let target = document.querySelector(`#productListCard${remove}`)\n      target.style.height = 0\n      target.style.opacity = 0\n\n      setTimeout(() => {\n        this.fetchProducts()\n      }, 500)\n\n    }\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const res = await productAPI.getProducts()\n        this.products = res.data\n        this.favorites = this.products.filter(i => {\n          return this.favoriteProducts.includes(i.id)\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/user-page.scss';\n.fade-enter-active,\n.fade-leave-active {\n  opacity: 1;\n  transition: opacity 0.7s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Favorites.vue?vue&type=template&id=6b22e9e6&scoped=true&\"\nimport script from \"./Favorites.vue?vue&type=script&lang=js&\"\nexport * from \"./Favorites.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Favorites.vue?vue&type=style&index=0&id=6b22e9e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b22e9e6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoriteHeart.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=style&index=0&id=6b22e9e6&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserTab.vue?vue&type=style&index=0&id=5e25f964&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.products),function(product){return _c('router-link',{key:product.id,attrs:{\"to\":{ name: 'ProductDetail', params: { id: product.id } }}},[_c('div',{staticClass:\"product-list-card my-4\",attrs:{\"id\":(\"productListCard\" + (product.id))}},[_c('FavoriteHeart',{attrs:{\"id\":product.id},on:{\"click\":function($event){return _vm.removeFavorite(product.id)}}}),_c('div',{staticClass:\"product-list-card-image\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(product.image),expression:\"product.image\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"product-list-card-detail\"},[_c('div',{staticClass:\"card-policy\"},[(product.policy.check)?_c('span',{staticClass:\"check-span\"},[_vm._v(_vm._s(product.policy.check))]):_vm._e(),(product.policy.cancel)?_c('span',{staticClass:\"cancel-span\"},[_vm._v(_vm._s(product.policy.cancel))]):_vm._e()]),_c('div',{staticClass:\"card-title\"},[_vm._v(\" \"+_vm._s(product.title)+\" \")]),_c('div',{staticClass:\"card-introduction\"},[_vm._v(\" \"+_vm._s(product.description.introduction)+\" \")]),_c('div',{staticClass:\"card-place\"},[_c('i',{staticClass:\"fas fa-map-marker-alt\"}),_vm._v(\" \"+_vm._s(product.location.country)+\" \"+_vm._s(product.location.city)+\" \")]),(product.planOption)?_c('div',{staticClass:\"card-date\"},[_vm._v(\" 最早可預定日期：\"+_vm._s(_vm.date)+\" \")]):_vm._e(),_c('div',{staticClass:\"card-bottom\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"card-rating mr-2\"},[_c('Star',{attrs:{\"rating\":product.rating}}),_vm._v(\" (\"+_vm._s(product.ratingCount)+\") \")],1),_vm._v(\" | \"),_c('div',{staticClass:\"card-ordered ml-2\"},[(product.orderCount >= 1000)?_c('i',{staticClass:\"fab fa-hotjar\"}):_vm._e(),_vm._v(\" \"+_vm._s(_vm._f(\"orderCount\")(product.orderCount))+\" 已訂購 \")])]),_c('div',{staticClass:\"card-price\"},[_c('Price',{attrs:{\"initial-price\":{\n                price: product.price,\n                specialPrice: product.specialPrice\n              }}})],1)])])],1)])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <router-link\n      :to=\"{ name: 'ProductDetail', params: { id: product.id } }\"\n      v-for=\"product in products\"\n      :key=\"product.id\"\n    >\n      <div class=\"product-list-card my-4\" :id=\"`productListCard${product.id}`\">\n        <FavoriteHeart :id=\"product.id\" @click=\"removeFavorite(product.id)\" />\n        <div class=\"product-list-card-image\">\n          <img v-lazy=\"product.image\" alt=\"\" />\n        </div>\n        <div class=\"product-list-card-detail\">\n          <div class=\"card-policy\">\n            <span v-if=\"product.policy.check\" class=\"check-span\">{{\n              product.policy.check\n            }}</span>\n            <span v-if=\"product.policy.cancel\" class=\"cancel-span\">{{\n              product.policy.cancel\n            }}</span>\n          </div>\n\n          <div class=\"card-title\">\n            {{ product.title }}\n          </div>\n\n          <div class=\"card-introduction\">\n            {{ product.description.introduction }}\n          </div>\n\n          <div class=\"card-place\">\n            <i class=\"fas fa-map-marker-alt\"></i>\n            {{ product.location.country }} {{ product.location.city }}\n          </div>\n\n          <div class=\"card-date\" v-if=\"product.planOption\">\n            最早可預定日期：{{ date }}\n          </div>\n\n          <div class=\"card-bottom\">\n            <div class=\"d-flex\">\n              <div class=\"card-rating mr-2\">\n                <Star :rating=\"product.rating\" />\n                ({{ product.ratingCount }})\n              </div>\n              |\n              <div class=\"card-ordered ml-2\">\n                <i class=\"fab fa-hotjar\" v-if=\"product.orderCount >= 1000\"></i>\n                {{ product.orderCount | orderCount }} 已訂購\n              </div>\n            </div>\n            <div class=\"card-price\">\n              <Price\n                :initial-price=\"{\n                  price: product.price,\n                  specialPrice: product.specialPrice\n                }\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport FavoriteHeart from '../components/FavoriteHeart'\nimport Star from '../components/Star'\nimport Price from './Price'\nimport moment from 'moment'\nimport { orderCount } from './../utils/mixins'\n\nexport default {\n  name: 'ProductListCard',\n  components: { FavoriteHeart, Star, Price },\n  mixins: [orderCount],\n  props: {\n    products: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      date: null\n    }\n  },\n  created() {\n    this.date = moment(new Date()).add(2, 'days').format('YYYY-MM-DD')\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../assets/scss/product-card.scss';\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductListCard.vue?vue&type=template&id=4801c254&scoped=true&\"\nimport script from \"./ProductListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductListCard.vue?vue&type=style&index=0&id=4801c254&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4801c254\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}