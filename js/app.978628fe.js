(function(t){function e(e){for(var n,s,c=e[0],o=e[1],u=e[2],l=0,d=[];l<c.length;l++)s=c[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r={app:0},i=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-01893424":"bf17f7e8","chunk-09a63eda":"5138fe28","chunk-27e6376d":"b63a72aa","chunk-fed469f2":"8ad19da1","chunk-ab3e76a8":"093edd9d","chunk-bcd70482":"e52a1f24","chunk-cc40aece":"d9dde9b4","chunk-503081e8":"da6a6381","chunk-b09113ea":"23bf4cac","chunk-c7312d20":"952c6ef1"}[t]+".js"}function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a={"chunk-01893424":1,"chunk-fed469f2":1,"chunk-ab3e76a8":1,"chunk-bcd70482":1,"chunk-cc40aece":1,"chunk-503081e8":1,"chunk-b09113ea":1,"chunk-c7312d20":1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-01893424":"628df58e","chunk-09a63eda":"31d6cfe0","chunk-27e6376d":"31d6cfe0","chunk-fed469f2":"b189e515","chunk-ab3e76a8":"85c830b3","chunk-bcd70482":"2dbf6d7a","chunk-cc40aece":"7c40cf4f","chunk-503081e8":"a36e8c53","chunk-b09113ea":"6e9450a7","chunk-c7312d20":"22b7d3dd"}[t]+".css",r=o.p+n,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===r))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===n||l===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete s[t],p.parentNode.removeChild(p),a(i)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){s[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",d.name="ChunkLoadError",d.type=n,d.request=s,a[1](d)}r[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/tripday-vue/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0f38":function(t,e,a){"use strict";a("b9ca")},1470:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"star",style:{background:"linear-gradient(90deg, #2292A4 "+t.colorVariables+"%, #bebebe "+t.colorVariables+"%)","background-clip":"text","-webkit-background-clip":"text"}},[a("i",{staticClass:"fas fa-star"}),a("i",{staticClass:"fas fa-star"}),a("i",{staticClass:"fas fa-star"}),a("i",{staticClass:"fas fa-star"}),a("i",{staticClass:"fas fa-star"})])},s=[],r=(a("a9e3"),{name:"Star",props:{rating:{type:Number,default:5,useDefaultForNull:!0}},data:function(){return{score:0,colorVariables:100}},created:function(){this.getCssProps()},methods:{getCssProps:function(){this.colorVariables=Math.floor(this.rating/5*100)}}}),i=r,c=(a("92c7"),a("2877")),o=Object(c["a"])(i,n,s,!1,null,"1fe6c5b4",null);e["a"]=o.exports},"1f6b":function(t,e,a){},"1ff8":function(t,e,a){},2295:function(t,e,a){},2375:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-content"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"#2292A4",size:"40",width:"8"}})],1)},s=[],r=(a("f22a"),a("2877")),i=a("6544"),c=a.n(i),o=a("490a"),u={},l=Object(r["a"])(u,n,s,!1,null,null,null);e["a"]=l.exports;c()(l,{VProgressCircular:o["a"]})},2708:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return c}));var n=a("5530"),s=a("2f62"),r={data:function(){return{slickSettings:{}}},created:function(){this.setSlickSetting()},methods:{setSlickSetting:function(){this.slickSettings={infinite:!1,arrows:!0,focusOnSelect:!0,slidesToShow:5,touchThreshold:5,speed:700,initialSlide:0,responsive:[{breakpoint:575,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:1100,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1350,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1600,settings:{slidesToShow:4,slidesToScroll:4}}]}}}},i={computed:Object(n["a"])({},Object(s["b"])(["exchangeRate","currentCurrency"])),filters:{exchange:function(t){return Math.round(100*t)/100}}},c={filters:{orderCount:function(t){if(t>=1e3){var e=Math.floor(t/1e3);return"".concat(e,"K+")}return t}}}},"2c28":function(t,e,a){"use strict";var n=a("2fa3");e["a"]={getTopProducts:function(){return n["c"].get("/topProducts")},getProduct:function(t){return n["c"].get("/products/".concat(t))},getCities:function(){return n["c"].get("/cities")},getCityProducts:function(t){return n["c"].get("/products?city=".concat(t))},searchProducts:function(t){return n["c"].get("/products?q=".concat(t))},getProducts:function(){return n["c"].get("/products")}}},"2cf5":function(t,e,a){"use strict";a("6e3d")},"2fa3":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return u})),a.d(e,"a",(function(){return l}));a("d3b7");var n=a("bc3a"),s=a.n(n),r=a("3d20"),i=a.n(r),c="https://cors.bridged.cc/",o=s.a.create({baseURL:"".concat(c,"https://tripday-api.herokuapp.com"),headers:{"x-cors-grida-api-key":"0acd9cbf-13bd-40f7-828e-19b044b05bed"}}),u=s.a.create({baseURL:"".concat(c,"https://tripday-json-server.vercel.app"),headers:{"x-cors-grida-api-key":"0acd9cbf-13bd-40f7-828e-19b044b05bed"}});o.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers["Authorization"]="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)}));var l=i.a.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3})},"51d1":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("Navbar"),a("div",{staticClass:"main-container"},[a("router-view"),t.isLoading?a("Spinner"):t._e()],1),a("transition",{attrs:{name:"fade"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.topBtn,expression:"topBtn"}],staticClass:"back-to-top",on:{click:function(e){return e.stopPropagation(),t.scrollTop.apply(null,arguments)}}},[a("i",{staticClass:"icon-arrow-up"})])]),a("Footer")],1)],1)},r=[],i=a("5530"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("router-link",{attrs:{to:"/"}},[n("div",{staticClass:"nav-brand"},[n("img",{attrs:{src:a("e347"),alt:""}})])]),"Index"!==t.$route.name?n("div",[n("div",{staticClass:"nav-search-bar"},[n("input",{attrs:{type:"checkbox",id:"searchBarToggle"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"search-input",attrs:{type:"text",placeholder:"輸入目的地、景點或行程名稱"},domProps:{value:t.searchInput},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),n("label",{attrs:{for:"searchBarToggle"}},[n("i",{staticClass:"search-btn  icon-magnifier",on:{click:t.search}})])])]):t._e(),n("label",{staticClass:"nav-list-toggle-label",attrs:{for:"nav-list-toggle"},on:{click:t.showNavlist}},[n("div",{staticClass:"hamburger"})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"nav-list-toggle",attrs:{type:"checkbox",id:"nav-list-toggle"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var a=t.checked,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&(t.checked=a.concat([r])):i>-1&&(t.checked=a.slice(0,i).concat(a.slice(i+1)))}else t.checked=s}}}),t.showNavlistBack&&t.isSmallWindow?n("div",{staticClass:"nav-list-back",on:{click:t.hideNavList}}):t._e(),n("div",{staticClass:"nav-list"},[t.isAuthenticated?n("div",{staticClass:"nav-list-auth",style:{display:t.display}},[n("router-link",{attrs:{to:"/user"},on:{click:t.hideNavList}},[n("div",{staticClass:"nav-item-user"},[n("img",{staticClass:"user-image",attrs:{src:t.user.avatar?t.user.avatar:"https://i.imgur.com/hyCLvT0.png",alt:"avatar"}}),n("span",{staticClass:"user-name"},[t._v(" "+t._s(t.user.name||t.user.email)+" ")]),n("i",{staticClass:"icon-settings user-setting"})])]),n("router-link",{attrs:{to:"/user/orderlist"},on:{click:t.hideNavList}},[n("div",{staticClass:"nav-item-link"},[t._v(" 訂單管理 ")])]),n("router-link",{attrs:{to:"/user/favorites"},on:{click:t.hideNavList}},[n("div",{staticClass:"nav-item-link "},[t._v(" 我的收藏 ")])]),t.user.isAdmin?n("router-link",{attrs:{to:"/admin"},on:{click:t.hideNavList}},[n("div",{staticClass:"nav-item-link admin-link"},[t._v(" 管理者後台 ")])]):t._e(),n("div",{staticClass:"nav-item-link nav-item-logout",on:{click:t.logout}},[t._v(" 登出 ")])],1):t._e(),n("div",{staticClass:"nav-item nav-item-currency"},[n("label",{staticClass:"dropdown-currency-label",attrs:{for:"dropdown-currency-toggle"}},[t._v(t._s(t.currentCurrency))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currencyCheck,expression:"currencyCheck"}],staticClass:"dropdown-currency-toggle",attrs:{type:"checkbox",id:"dropdown-currency-toggle"},domProps:{checked:Array.isArray(t.currencyCheck)?t._i(t.currencyCheck,null)>-1:t.currencyCheck},on:{change:function(e){var a=t.currencyCheck,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&(t.currencyCheck=a.concat([r])):i>-1&&(t.currencyCheck=a.slice(0,i).concat(a.slice(i+1)))}else t.currencyCheck=s}}}),n("div",{staticClass:"dropdown-currency-content"},[n("button",{staticClass:"dropdown-link nav-item-link",on:{click:function(e){return t.getCurrency("USD")}}},[t._v(" USD 美元 ")]),n("button",{staticClass:"dropdown-link nav-item-link",on:{click:function(e){return t.getCurrency("TWD")}}},[t._v(" TWD 新台幣 ")])])]),t.isAuthenticated?t._e():n("div",[n("SignForm")],1),!t.isSmallWindow&&t.isAuthenticated?n("div",{staticClass:"nav-item nav-user"},[n("img",{staticClass:"user-image",attrs:{src:t.user.avatar?t.user.avatar:"https://i.imgur.com/hyCLvT0.png",alt:"avatar"},on:{click:t.toggleDeskTopNavList}})]):t._e()])],1)},o=[],u=(a("498a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"450px",persistent:t.isLoading},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("div",t._g(t._b({staticClass:"nav-item-sign"},"div",s,!1),n),[t._v(" 登入/註冊 ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("div",{staticClass:"signform-dialog-content"},[a("div",{staticClass:"dialog-top"},[a("v-progress-linear",{attrs:{active:t.isLoading,indeterminate:t.isLoading,absolute:"",height:"8px",color:"cyan darken-1"}})],1),a("button",{staticClass:"dialog-close",attrs:{disabled:t.isLoading},on:{click:function(e){t.dialog=!t.dialog}}},[a("i",{staticClass:"fas fa-times"})]),a("div",[a("transition",{attrs:{name:"slide-fade"}},[t.alert?a("v-alert",{staticClass:"alert",attrs:{type:"error",outlined:"",color:"red lighten-2"}},[t._v(" "+t._s(t.alert)+" ")]):t._e()],1)],1),t.showSignInForm?a("div",{staticClass:"sign-form sign-in-form"},[a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSignInSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-title"},[t._v(" 會員帳號登入 ")]),a("div",[a("label",{staticClass:"sign-email-lable",attrs:{for:"sign-email"}},[a("i",{staticClass:"far fa-envelope"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"sign-email sign-input",attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",[a("label",{staticClass:"sign-password-label",attrs:{for:"sign-password"}},[a("i",{staticClass:"fas fa-lock"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"sign-password sign-input",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"sign-in-btn",attrs:{disabled:t.isLoading}},[t._v(" 登入 "),a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"circular",attrs:{indeterminate:"",size:"20",width:"2"}})],1)]),a("div",{staticClass:"sign-up-link",on:{click:function(e){t.showSignInForm=!1}}},[t._v(" 免費註冊 ")])]):a("div",{staticClass:"sign-form sign-up-form"},[a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSignUpSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-title"},[t._v(" 免費註冊 ")]),a("div",[a("label",{staticClass:"sign-email-lable",attrs:{for:"sign-email"}},[a("i",{staticClass:"far fa-envelope"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"sign-email sign-input",attrs:{type:"email",placeholder:"請輸入Email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",[a("label",{staticClass:"sign-password-label",attrs:{for:"sign-password"}},[a("i",{staticClass:"fas fa-lock"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"sign-password sign-input",attrs:{type:"password",placeholder:"請輸入密碼",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",[a("label",{staticClass:"sign-check-password-label",attrs:{for:"sign-check-password"}},[a("i",{staticClass:"fas fa-unlock"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"sign-check-password sign-input",attrs:{type:"password",placeholder:"請再次輸入密碼",required:""},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),a("button",{staticClass:"sign-up-btn",attrs:{disabled:t.isLoading}},[t._v(" 註冊 "),a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"circular",attrs:{indeterminate:"",size:"20",width:"2"}})],1)]),a("div",{staticClass:"sign-up-link",on:{click:function(e){t.showSignInForm=!0}}},[t._v(" 登入tripday ")])])])])],1)}),l=[],d=a("1da1"),p=(a("96cf"),a("2fa3")),f={singIn:function(t){var e=t.email,a=t.password;return p["b"].post("/api/signin",{email:e,password:a})},singUp:function(t){var e=t.email,a=t.password,n=t.confirmPassword;return p["b"].post("/api/signup",{email:e,password:a,confirmPassword:n})},getCurrentUser:function(){return p["b"].get("/get_current_user")}},h={name:"SignForm",data:function(){return{dialog:!1,showSignInForm:!0,email:"",password:"",confirmPassword:"",alert:"",isLoading:!1}},watch:{showSignInForm:function(){return this.clearForm()},dialog:function(){return this.clearForm()}},mounted:function(){var t=this;this.$EventBus.$on("openSignForm",(function(e){t.dialog=!!e}))},methods:{clearForm:function(){this.email="",this.password="",this.confirmPassword=""},handleSignInSubmit:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isLoading=!0,t.email&&t.password){e.next=6;break}return t.alert="請輸入 Email 和 Password",setTimeout((function(){t.alert=null}),3e3),e.abrupt("return");case 6:return e.next=8,f.singIn({email:t.email,password:t.password});case 8:if(a=e.sent,"success"===a.data.status){e.next=11;break}throw new Error(data.message);case 11:localStorage.setItem("token",a.data.token),t.$store.commit("setCurrentUser",a.data.user),p["a"].fire({icon:"success",title:"登入成功"}),t.dialog=!1,t.isLoading=!1,e.next=24;break;case 18:return e.prev=18,e.t0=e["catch"](0),t.isLoading=!1,t.alert="帳號密碼錯誤",setTimeout((function(){t.alert=null}),3e3),e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[0,18]])})))()},handleSignUpSubmit:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.isLoading=!0,t.email&&t.password&&t.confirmPassword){e.next=4;break}return e.abrupt("return",t.alert="請完整填寫表單");case 4:return e.next=6,f.singUp({email:t.email,password:t.password,confirmPassword:t.confirmPassword});case 6:if(a=e.sent,"success"===a.data.status){e.next=9;break}throw new Error(a.data.message);case 9:p["a"].fire({icon:"success",title:"註冊成功"}),t.dialog=!1,t.isLoading=!1,e.next=20;break;case 14:return e.prev=14,e.t0=e["catch"](0),t.isLoading=!1,t.alert=e.t0,setTimeout((function(){t.alert=null}),3e3),e.abrupt("return");case 20:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}},m=h,v=(a("2cf5"),a("2877")),g=a("6544"),b=a.n(g),k=a("0798"),w=a("169a"),C=a("490a"),y=a("8e36"),_=a("0fd9"),x=Object(v["a"])(m,u,l,!1,null,"21d6d087",null),P=x.exports;b()(x,{VAlert:k["a"],VDialog:w["a"],VProgressCircular:C["a"],VProgressLinear:y["a"],VRow:_["a"]});var S=a("2f62"),L={name:"Navbar",components:{SignForm:P},data:function(){return{showSignInForm:!0,showNavlistBack:!1,checked:!1,currencyCheck:!1,isSmallWindow:!1,showAuthNavList:!1,screenWidth:window.innerWidth,display:"block",searchInput:""}},created:function(){this.screenWidth<996&&(this.isSmallWindow=!0),this.screenWidth>996&&(this.display="none")},mounted:function(){var t=this,e=this;window.onresize=function(){return function(){e.screenWidth=window.innerWidth}()},document.addEventListener("click",(function(e){var a=e.target.className;t.showAuthNavList&&"user-image"!==a&&(t.showAuthNavList=!1),t.currencyCheck&&"dropdown-currency-content"!==a&&(t.currencyCheck=!1)}))},watch:{$route:function(){this.checked=!1,this.showNavlistBack=!1,this.showAuthNavList=!1},screenWidth:function(){this.screenWidth<996?(this.isSmallWindow=!0,this.display="block",this.$store.state.mobileScreen=!0):(this.isSmallWindow=!1,this.display="none",this.$store.state.mobileScreen=!1)},showAuthNavList:function(){this.screenWidth<996&&(this.display="block"),this.screenWidth>996&&this.showAuthNavList&&(this.display="block"),this.screenWidth>996&&!this.showAuthNavList&&(this.display="none")}},computed:Object(i["a"])({},Object(S["b"])(["isAuthenticated","user","currentCurrency"])),methods:{hideNavList:function(){this.checked=!1,this.showNavlistBack=!1},showNavlist:function(){this.showNavlistBack=!0},toggleDeskTopNavList:function(){this.showAuthNavList=!this.showAuthNavList},openDialog:function(){this.$store.commit("openDialog",!0)},logout:function(){this.hideNavList(),this.$store.commit("revokeAuthentication")},search:function(){0!==this.searchInput.trim().length&&(this.$router.push({name:"ProductList",query:{q:this.searchInput}}),this.searchInput="")},getCurrency:function(t){this.hideNavList(),"TWD"===t&&(this.$store.state.exchangeRate=1,this.$store.state.currentCurrency="TWD"),"USD"===t&&1===this.$store.state.exchangeRate&&this.$store.dispatch("getCurrency",t)}}},N=L,T=(a("6a97"),Object(v["a"])(N,c,o,!1,null,"5e91471d",null)),A=T.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("div",{staticClass:"main-content"},[n("div",{staticClass:"footer-block block-a"},[n("div",{staticClass:"footer-title"},[t._v(" 關於 Tripday ")]),n("div",{staticClass:"footer-item"},[n("li",[t._v("使用者條款")]),n("li",[t._v("隱私權保護政策")]),n("li",[t._v("常見問題")])])]),n("div",{staticClass:"footer-block block-b"},[n("div",{staticClass:"footer-title"},[t._v(" 關於 Tripday ")]),n("div",{staticClass:"footer-item"},[n("li",[t._v("使用者條款")]),n("li",[t._v("隱私權保護政策")]),n("li",[t._v("常見問題")])])]),n("div",{staticClass:"footer-block block-c"},[n("div",{staticClass:"footer-title"},[t._v(" 聯絡我們 ")]),n("div",{staticClass:"footer-item social-media"},[n("a",{attrs:{href:"https://www.facebook.com/",target:"_blank"}},[n("img",{attrs:{src:a("d4fd"),alt:"fb-icon"}})]),n("a",{attrs:{href:"https://www.instagram.com/?hl=en",target:"_blank"}},[n("img",{attrs:{src:a("aabc"),alt:"ig-icon"}})]),n("a",{attrs:{href:"https://github.com/schiafang/tripday-vue",target:"_blank"}},[n("img",{attrs:{src:a("9607"),alt:"github-icon"}})])])]),n("div",{staticClass:"triple-coupon block-e"},[n("img",{attrs:{src:a("83e2"),alt:""}})]),n("div",{staticClass:"footer-block reference block-d"},[n("div",{staticClass:"footer-title"},[t._v(" 專案資料參考來源 ")]),t._v(" KKday https://www.kkday.com/zh-tw/ ")])]),n("div",{staticClass:"contact-content"},[n("div",[n("li",[t._v("統一編號：12345678")]),n("li",[t._v("代表號：02-3456-7890")]),n("li",[t._v("台北市復興北路 201 號 6 樓之 4")])]),n("p"),n("div",[n("li",[t._v("電話：+886-2-2546-9766")]),n("li",[t._v("Email：taiwan@alphacamp.co")])]),n("p")])])}],E=(a("b740"),{}),I=Object(v["a"])(E,O,j,!1,null,"a55a60bc",null),$=I.exports,B=a("2375"),D={name:"App",components:{Navbar:A,Footer:$,Spinner:B["a"]},data:function(){return{topBtn:!1}},computed:Object(i["a"])({},Object(S["b"])(["isLoading"])),mounted:function(){var t=this;window.addEventListener("scroll",(function(){t.topBtn=window.pageYOffset>200}))},methods:{scrollTop:function(){window.scrollTo(0,0)}}},W=D,R=(a("5c0b"),a("7496")),F=Object(v["a"])(W,s,r,!1,null,null,null),U=F.exports;b()(F,{VApp:R["a"]});a("d3b7"),a("3ca3"),a("ddb0");var q=a("8c4f"),V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Banner"),a("div",{staticClass:"container-wrapper"},[a("TopCities"),a("div",{staticClass:"top-products-title"},[a("h2",{staticClass:"mb-3"},[t._v("Top 10 超熱門活動")]),a("TopProducts",{attrs:{products:t.products}})],1),a("button",{staticClass:"btn more-products my-5",on:{click:t.moreProducts}},[t._v(" 更多在地行程 ")])],1)],1)},z=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.banner,expression:"banner"}],staticClass:"banner-img",attrs:{alt:""}}),a("div",{staticClass:"search-block"},[a("div",{staticClass:"mb-5"},[t._v(" 帶你深入探索有趣又獨特的旅遊體驗行程 ")]),a("div",{staticClass:"search-bar"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"search-input",attrs:{type:"text",placeholder:"輸入目的地、景點或行程名稱"},domProps:{value:t.searchInput},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)},input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),a("button",{staticClass:"search-btn",on:{click:t.search}},[a("i",{staticClass:"fas fa-search"})])]),a("div",{staticClass:"keyword"},[a("span",[t._v("熱門關鍵字")]),a("div",{staticClass:"keyword-content"},t._l(t.keywords,(function(e,n){return a("button",{key:n,staticClass:"keyword-item",on:{click:function(a){return t.searchKeyword(e)}}},[t._v(" "+t._s(e)+" ")])})),0)])])])},K=[],J=["https://images.unsplash.com/photo-1568110929146-c5e9854fc7a2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80"],H=["Xpark","台北","桃園","台中","101","水族館","樂園","宜蘭","花蓮"],Q={data:function(){return{banner:"",searchInput:"",keywords:[]}},created:function(){this.banner=J[Math.floor(Math.random()*J.length)],this.keywords=H},methods:{search:function(){0!==this.searchInput.trim().length&&(this.$router.push({name:"ProductList",query:{q:this.searchInput}}),this.searchInput="")},searchKeyword:function(t){this.$router.push({name:"ProductList",query:{q:t}})}}},X=Q,Y=(a("0f38"),Object(v["a"])(X,M,K,!1,null,"33fb7e55",null)),G=Y.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-cities"},[t._m(0),a("div",{staticClass:"top-cities-content"},t._l(t.cities,(function(e){return a("router-link",{key:e.id,staticClass:"city-card",attrs:{to:{path:"/cities",query:{city:e.city}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"city.image"}],attrs:{alt:""},on:{mouseover:function(e){return t.mouseover(t.index)}}}),a("div",{staticClass:"city-card-bottom"},[a("span",{staticClass:"city-title"},[t._v(t._s(e.title))]),a("div",{staticClass:"city-label"},[a("span",[t._v("熱門景點")])])])])})),1)])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-cities-title"},[a("h2",[t._v("探索熱門城市")])])}],et=(a("fb6a"),a("2c28")),at={name:"TopCities",data:function(){return{cities:[],isFocus:!1,index:""}},created:function(){this.fetchCities()},methods:{fetchCities:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.state.isLoading=!0,e.next=4,et["a"].getCities();case 4:a=e.sent,t.cities=t.shuffle(a.data).slice(0,5),t.$store.state.isLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$store.state.isLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},shuffle:function(t){var e=t.length;while(e){var a=Math.floor(Math.random()*e--),n=t[e];t[e]=t[a],t[a]=n}return t},mouseover:function(t){this.index=t}}},nt=at,st=(a("9c70"),Object(v["a"])(nt,Z,tt,!1,null,"3a7549c8",null)),rt=st.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-products-content"},[0!==t.products.length?a("VueSlickCarousel",t._b({ref:"carousel"},"VueSlickCarousel",t.slickSettings,!1),t._l(t.products,(function(e,n){return a("div",{key:e.id,staticClass:"product-card"},[a("router-link",{attrs:{to:{name:"ProductDetail",params:{id:e.id}}}},[a("div",{staticClass:"product-card-image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"product.image"}],attrs:{alt:""}})]),a("div",{staticClass:"flash-label"},[a("i",{staticClass:"fas fa-caret-down"}),a("i",{staticClass:"fa fa-flash flash-icon"}),t._v("立即確認 ")]),a("div",{staticClass:"rank-label"},[a("img",{attrs:{src:"https://cdn.kkday.com/pc-web/assets/img/ic_top10_label.svg",alt:""}}),a("div",{staticClass:"rank-index-wrapper"},[t._v(t._s(n+1))])]),a("div",{staticClass:"product-card-detail"},[a("div",{staticClass:"card-title"},[a("i",{staticClass:"fa fa-flash title-flash"}),t._v(t._s(e.title)+" ")]),a("div",{staticClass:"card-ordered"},[a("i",{staticClass:"fab fa-hotjar"}),t._v(" "+t._s(t._f("orderCount")(e.orderCount))+" 已訂購 ")]),a("div",{staticClass:"card-place"},[a("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" "+t._s(e.location.country)+" "+t._s(e.location.city)+" ")]),a("div",{staticClass:"card-rating"},[a("Star",{attrs:{rating:e.rating}}),t._v(" ("+t._s(e.ratingCount)+") ")],1),a("div",{staticClass:"card-price"},[a("Price",{attrs:{"initial-price":{price:e.price,specialPrice:e.specialPrice}}})],1)])])],1)})),0):t._e()],1)},ct=[],ot=a("a7ab"),ut=a.n(ot),lt=(a("7b8d"),a("2708")),dt=a("1470"),pt=a("f87f"),ft={name:"TopProducts",components:{VueSlickCarousel:ut.a,Star:dt["a"],Price:pt["a"]},mixins:[lt["c"],lt["b"]],props:{products:{type:Array,required:!0}}},ht=ft,mt=(a("e576"),Object(v["a"])(ht,it,ct,!1,null,null,null)),vt=mt.exports,gt={name:"Index",components:{Banner:G,TopCities:rt,TopProducts:vt},data:function(){return{products:[]}},created:function(){this.fetchProducts()},methods:{fetchProducts:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et["a"].getTopProducts();case 3:a=e.sent,t.$nextTick((function(){return t.products=a.data})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},moreProducts:function(){this.$router.push({name:"ProductList"})}}},bt=gt,kt=(a("ae20"),Object(v["a"])(bt,V,z,!1,null,"af03a76c",null)),wt=kt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("h1",[t._v(" Page Not Found :( ")]),a("router-link",{attrs:{to:"/"}},[a("v-btn",{staticClass:"back-home",attrs:{color:"#2292A4",fab:"",large:"",dark:""}},[a("i",{staticClass:"icon-home"})])],1)],1)},yt=[],_t=(a("7b9f"),a("8336")),xt={},Pt=Object(v["a"])(xt,Ct,yt,!1,null,"120a20a8",null),St=Pt.exports;b()(Pt,{VBtn:_t["a"]});a("caad"),a("2532"),a("4de4"),a("b0c0"),a("bc3a");var Lt=a("0e44"),Nt=a("88b4"),Tt=a.n(Nt),At=new Tt.a({encodingType:"aes",isCompression:!1});n["a"].use(S["a"]);var Ot=new S["a"].Store({state:{user:{id:-1,name:"",realname:"",avatar:"",email:"",tel:"",isAdmin:!1},favoriteProducts:[],isAuthenticated:!1,token:"",isLoading:!1,mobileScreen:!1,exchangeRate:1,currentCurrency:"TWD",attrs:!1,on:!1},mutations:{setCurrentUser:function(t,e){t.user=Object(i["a"])(Object(i["a"])({},t.user),e),t.isAuthenticated=!0,t.token=localStorage.getItem("token")},revokeAuthentication:function(t){t.user={id:-1,name:"",realname:"",avatar:"",email:"",tel:"",isAdmin:!1},t.isAuthenticated=!1,t.token="",t.favoriteProducts=[],localStorage.removeItem("token")},addFavorite:function(t,e){t.favoriteProducts.includes(e)||t.favoriteProducts.push(e)},removeFavorite:function(t,e){t.favoriteProducts.includes(e)&&(t.favoriteProducts=t.favoriteProducts.filter((function(t){return t!==e})))}},actions:{fetchCurrentUser:function(t){return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,n,s,r,i,c,o,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,f.getCurrentUser();case 4:if(n=e.sent,s=n.data,"error"!==status){e.next=8;break}throw new Error(s);case 8:r=s.id,i=s.name,c=s.email,o=s.isAdmin,u=s.realname,l=s.avatar,d=s.tel,a("setCurrentUser",{id:r,name:i,email:c,isAdmin:o,realname:u,avatar:l,tel:d}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),console.error(e.t0),a("revokeAuthentication");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()},getCurrency:function(t,e){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=31.358573,s=1.128026,r=28.992198027261733,"USD"===e&&(r=n/s,a.state.exchangeRate=r,a.state.currentCurrency="USD"),"TWD"===e&&(a.state.exchangeRate=1,a.state.currentCurrency="TWD");case 5:case"end":return t.stop()}}),t)})))()}},modules:{},plugins:[Object(Lt["a"])({key:"userInfo",reducer:function(t){return{user:t.user,favoriteProducts:t.favoriteProducts,isAuthenticated:t.isAuthenticated,token:t.token}},storage:{getItem:function(t){return At.get(t)},setItem:function(t,e){return At.set(t,e)},removeItem:function(t){return At.remove(t)}}})]});n["a"].use(q["a"]);var jt=[{path:"/",name:"Index",component:wt,meta:{title:"tripday - 在地旅遊體驗"}},{path:"/products/:id",name:"ProductDetail",component:function(){return Promise.all([a.e("chunk-09a63eda"),a.e("chunk-27e6376d"),a.e("chunk-fed469f2")]).then(a.bind(null,"5f47"))}},{path:"/productlist",name:"ProductList",component:function(){return Promise.all([a.e("chunk-09a63eda"),a.e("chunk-ab3e76a8")]).then(a.bind(null,"96fc"))}},{path:"/user",name:"User",component:function(){return a.e("chunk-b09113ea").then(a.bind(null,"1511"))},meta:{title:"帳號設定 - tripday"}},{path:"/user/orderlist",name:"OrderList",component:function(){return Promise.all([a.e("chunk-09a63eda"),a.e("chunk-bcd70482")]).then(a.bind(null,"bf4b"))},meta:{title:"訂單查詢 - tripday"}},{path:"/user/favorites",name:"Favorites",component:function(){return Promise.all([a.e("chunk-09a63eda"),a.e("chunk-cc40aece")]).then(a.bind(null,"48d5"))},meta:{title:"收藏清單 - tripday"}},{path:"/cities",name:"Cities",component:function(){return a.e("chunk-c7312d20").then(a.bind(null,"0d5f"))}},{path:"/booking/step1",name:"Booking",component:function(){return Promise.all([a.e("chunk-27e6376d"),a.e("chunk-503081e8")]).then(a.bind(null,"7138"))},meta:{title:"商品結帳 - tripday"}},{path:"/booking/step2",name:"BookingSuccess",component:function(){return a.e("chunk-01893424").then(a.bind(null,"b9a4"))},meta:{title:"訂購成功 - tripday"}},{path:"*",name:"NotFound",component:St}],Et=new q["a"]({mode:"hash",base:"/tripday-vue",routes:jt,linkExactActiveClass:"active",scrollBehavior:function(){return{x:0,y:0}}});Et.beforeEach((function(t,e,a){t.meta.title&&(document.title=t.meta.title);var n=localStorage.getItem("token"),s=Ot.state.token;Ot.state.isLoading=!0,n!==s&&n&&Ot.dispatch("fetchCurrentUser"),Ot.state.isLoading=!1,a()}));var It=Et,$t=a("f309");n["a"].use($t["a"]);var Bt=new $t["a"]({}),Dt=a("caf9"),Wt=(a("c1c3"),a("e057")),Rt=a.n(Wt),Ft=a("58ca");n["a"].config.productionTip=!1,n["a"].use(Dt["a"]),n["a"].use(Rt.a),n["a"].use(Ft["a"]),n["a"].prototype.$EventBus=new n["a"],new n["a"]({router:It,vuetify:Bt,store:Ot,render:function(t){return t(U)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"6a97":function(t,e,a){"use strict";a("1ff8")},"6e3d":function(t,e,a){},"7b9f":function(t,e,a){"use strict";a("82a9")},"82a9":function(t,e,a){},"83e2":function(t,e,a){t.exports=a.p+"img/triple-coupon.5530ca30.svg"},"92c7":function(t,e,a){"use strict";a("fe34")},9607:function(t,e,a){t.exports=a.p+"img/github-icon.7621b515.svg"},"9c0c":function(t,e,a){},"9c70":function(t,e,a){"use strict";a("cf2a")},aabc:function(t,e,a){t.exports=a.p+"img/instagram-icon.7fa2110e.svg"},ae20:function(t,e,a){"use strict";a("cac6")},b740:function(t,e,a){"use strict";a("2295")},b9ca:function(t,e,a){},c1c3:function(t,e,a){},cac6:function(t,e,a){},cf2a:function(t,e,a){},d4fd:function(t,e,a){t.exports=a.p+"img/facebook-icon.e4b9daff.svg"},e347:function(t,e,a){t.exports=a.p+"img/logo.72262e7a.svg"},e576:function(t,e,a){"use strict";a("51d1")},f22a:function(t,e,a){"use strict";a("1f6b")},f87f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.initialPrice.specialPrice,expression:"initialPrice.specialPrice"}],staticClass:"original"},[t._v(" "+t._s(t.currentCurrency)+" "+t._s(t._f("exchange")(t.initialPrice.price/t.exchangeRate))+" ")]),a("div",{staticClass:"price-now"},[t._v(" "+t._s(t.currentCurrency)+" "),t.initialPrice.specialPrice?a("span",[t._v(t._s(t._f("exchange")(t.initialPrice.specialPrice/t.exchangeRate)))]):a("span",[t._v(t._s(t._f("exchange")(t.initialPrice.price/t.exchangeRate)))])])])},s=[],r=a("2708"),i={name:"Price",mixins:[r["a"]],props:{initialPrice:{type:Object}}},c=i,o=a("2877"),u=Object(o["a"])(c,n,s,!1,null,null,null);e["a"]=u.exports},fe34:function(t,e,a){}});
//# sourceMappingURL=app.978628fe.js.map