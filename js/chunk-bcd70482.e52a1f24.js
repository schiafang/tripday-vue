(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bcd70482"],{"132b":function(t,s,i){"use strict";i("6d49")},4444:function(t,s,i){"use strict";var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"user-tab-wrapper"},[i("div",{staticClass:"user-info"},[i("img",{attrs:{src:t.avatar,alt:""}}),i("div",{staticClass:"user-account"},[t._v(t._s(t.name||t.email))])]),i("div",{staticClass:"user-tab"},[i("router-link",{staticClass:"user-tab-link",attrs:{to:"/user"}},[i("div",{staticClass:"user-tab-item"},[i("i",{staticClass:"icon-settings"}),t._v(" 帳號管理")])]),i("router-link",{staticClass:"user-tab-link",attrs:{to:"/user/orderlist"}},[i("div",{staticClass:"user-tab-item"},[i("i",{staticClass:"icon-note"}),t._v(" 訂單查詢 ")])]),i("router-link",{staticClass:"user-tab-link",attrs:{to:"/user/favorites"}},[i("div",{staticClass:"user-tab-item"},[i("i",{staticClass:"icon-heart"}),t._v(" 我的收藏 ")])])],1)])},e=[],r=i("5530"),n=(i("b0c0"),i("2f62")),c={props:{formData:{type:Object}},data:function(){return{avatar:"",name:"",email:""}},created:function(){var t=this.$store.state.user,s=t.name,i=t.email,a=t.avatar;this.name=s,this.email=i,this.avatar=a||"https://i.imgur.com/hyCLvT0.png"},watch:{formData:{handler:function(t){this.avatar=t.avatar?t.avatar:this.$store.state.user.avatar},deep:!0}},computed:Object(r["a"])({},Object(n["b"])(["isAuthenticated","user"]))},o=c,l=(i("b63e"),i("2877")),d=Object(l["a"])(o,a,e,!1,null,"5e25f964",null);s["a"]=d.exports},"6d49":function(t,s,i){},a110:function(t,s,i){},b63e:function(t,s,i){"use strict";i("a110")},bf4b:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"user-container-wapper"},[t.isAuthenticated?i("div",{staticClass:"user-container"},[i("UserTab"),i("div",{staticClass:"user-content"},[i("div",{staticClass:"user-content-title"},[t._v(" 訂單管理 ")]),0===t.orderList.length?[t._m(0)]:[i("div",{staticClass:"user-content-subtitle"},[i("div",[i("span",[t._v(" "+t._s(t.orderList.length))]),t._v("筆訂單在清單中 ")]),i("div",{},[i("button",{on:{click:function(s){return t.removeExpired()}}},[t._v("清空過期訂單")])])]),t._l(t.orderList,(function(s,a){return i("div",{key:s.id,staticClass:"order-list-item"},[s.expired?i("div",{staticClass:"expired"},[t._v(" Expired ")]):t._e(),i("input",{staticClass:"order-input ",attrs:{type:"checkbox",id:a+"orderContent"}}),i("label",{staticClass:"top",attrs:{for:a+"orderContent"}},[i("i",{staticClass:"icon-arrow-up"}),i("h4",{staticClass:"mt-4"},[t._v(" "+t._s(s.bookingDetail.plan.planOption[0].title)+" ")]),i("div",{staticClass:"item"},[i("i",{staticClass:"icon-people"}),t._l(s.bookingDetail.type,(function(s,a){return i("span",{key:a,staticClass:"inline"},[t._v(" "+t._s(s.name)+" x "+t._s(s.quantity)+" ")])}))],2),i("div",{staticClass:"order-list-number"},[i("h6",[t._v("訂單編號 #"+t._s(s.id))])])]),i("div",{staticClass:"content"},[i("div",{staticClass:"item"},[i("i",{staticClass:"icon-calendar"}),i("span",[t._v(" 日期:")]),t._v(t._s(s.bookingDetail.date)+" ")]),i("div",{staticClass:"item"},[i("i",{staticClass:"icon-user"}),i("span",[t._v(" 訂購人:")]),t._v(t._s(s.fullName)+" ")]),i("div",{staticClass:"item"},[i("i",{staticClass:"icon-user-following"}),i("span",[t._v(" 主要聯絡人:")]),t._v(t._s(s.mainPassenger)+" ")]),i("div",{staticClass:"item"},[i("i",{staticClass:"icon-phone"}),i("span",[t._v(" 聯絡電話:")]),t._v(t._s(s.contactNumber)+" ")]),i("div",{staticClass:"item"},[i("i",{staticClass:"icon-note"}),i("span",[t._v(" 備註:")]),t._v(" "+t._s(s.reminder||"無")+" ")]),i("div",{staticClass:"item"},[i("i",{staticClass:"icon-credit-card"}),i("span",[t._v(" 訂單金額:")]),t._v(t._s(s.bookingDetail.currency)+" "+t._s(s.billPrice)+" ")])])])}))]],2)],1):i("div",{staticClass:"user-container"},[i("h3",[t._v("請先登入")])])])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"user-content-no-data"},[i("div",[i("span",[t._v(" 沒有訂單 ")])])])}],r=i("5530"),n=(i("d81d"),i("4de4"),i("4444")),c=i("2f62"),o=i("c1df"),l=i.n(o),d={name:"User",components:{UserTab:n["a"]},data:function(){return{orderList:[]}},created:function(){this.fetchOrderList()},computed:Object(r["a"])({},Object(c["b"])(["isAuthenticated","user"])),methods:{fetchOrderList:function(){var t=l()(new Date).format("YYYY-MM-DD"),s=JSON.parse(localStorage.getItem("orderList"));function i(s){t=l()(t);var i=l()(s),a=i.diff(t,"years"),e=i.diff(t,"months")-12*a;t.add(a,"years").add(e,"months");var r=i.diff(t,"days");return a<0||e<0||r<0}s&&(this.orderList=s),this.orderList=this.orderList.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{expired:i(t.bookingDetail.date)})}))},removeExpired:function(){0!==this.orderList.filter((function(t){return t.expired})).length&&(window.confirm("要刪除過期訂單嗎？")&&(this.orderList=this.orderList.filter((function(t){return!t.expired}))),localStorage.setItem("orderList",JSON.stringify(this.orderList)))}}},u=d,v=(i("132b"),i("2877")),f=Object(v["a"])(u,a,e,!1,null,"da4c94e8",null);s["default"]=f.exports}}]);
//# sourceMappingURL=chunk-bcd70482.e52a1f24.js.map